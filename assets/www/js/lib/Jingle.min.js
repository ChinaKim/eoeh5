!function(a){var b={version:"0.1",settings:{transitionType:"slide",transitionTime:200,transitionTimingFunc:"linear",showWelcome:!0,showPageLoading:!1,basePagePath:"html/",remotePage:{}},mode:a.innerWidth<800?"phone":"tablet",hasTouch:"ontouchstart"in a,hasLaunched:!1,launchCompleted:!1,hasMenuOpen:!1,hasPopupOpen:!1,isWebApp:"http:"==location.protocol,launch:function(b){$.extend(this.settings,b);var c=a.localStorage.getItem("hasShowWelcome");c||this.showWelcome(),this.Router.init(),this.Element.init(),this.Menu.init(),this.Selected.init()},anim:function(a,b){for(var c,d,e,f=arguments.length,g=2;f>g;g++){var h=arguments[g],i=$.type(h);"number"==i?c=h:"string"==i?d=h:"function"==i?e=h:null}$(a).animate(b,c||J.settings.transitionTime,d||J.settings.transitionTimingFunc,e)},showMask:function(a){J.Popup.loading(a)},hideMask:function(){J.Popup.close(!0)},showToast:function(a,b,c){b=b||"toast",J.Toast.show(b,a,c)},hideToast:function(){J.Toast.hide()},alert:function(a,b){J.Popup.alert(a,b)},confirm:function(a,b,c,d){J.Popup.confirm(a,b,c,d)},popup:function(a){J.Popup.show(a)},closePopup:function(){J.Popup.close()},popover:function(a,b,c,d){J.Popup.popover(a,b,c,d)},tmpl:function(a,b,c,d){J.Template.render(a,b,c,d)},showWelcome:function(){J.settings.showWelcome&&$.ajax({url:J.settings.sectionPath+"welcome.html",timeout:5e3,async:!1,success:function(a){$("body").append(a),new J.Slider("#jingle_welcome")}})},hideWelcome:function(){J.anim("#jingle_welcome","slideLeftOut",function(){$(this).remove(),a.localStorage.setItem("hasShowWelcome",!0)})}};a.Jingle=a.J=b}(window),Jingle.Element=function(a,b){var c={icon:"[data-icon]",scroll:'[data-scroll="true"]',toggle:".toggle",range:"[data-rangeinput]",progress:"[data-progress]",count:"[data-count]",checkbox:"[data-checkbox]"},d=function(d){d||b(document).on("articleshow","article",function(){a.Element.initScroll(this)});var f=b(d||"body");0!=f.length&&(b.map(e(f,c.icon),g),b.map(e(f,c.toggle),i),b.map(e(f,c.range),j),b.map(e(f,c.progress),k),b.map(e(f,c.count),l),b.map(e(f,c.checkbox),m))},e=function(a,b){return a.find(b).add(a.filter(b))},f=function(a){b.map(e(b(a),c.scroll),h)},g=function(a){var c=b(a),d=c.children("i.icon"),e=c.data("icon");d.length>0?d.attr("class","icon "+e):c.prepend('<i class="icon '+e+'"></i>')},h=function(b){a.Scroll(b)},i=function(a){var c,d=b(a);if(!(d.find("div.toggle-handle").length>0)){var e=d.attr("name");e&&d.append('<input style="display: none;" name="'+e+'" value="'+d.hasClass("active")+'"/>'),d.append('<div class="toggle-handle"></div>'),c=d.find("input"),d.tap(function(){var a;d.hasClass("active")?(d.removeClass("active"),a=!1):(d.addClass("active"),a=!0),c.val(a),d.trigger("toggle")})}},j=function(a){var c,d=b(a),e=b('input[type="range"]',a),f=d.data("rangeinput"),g=b('<input type="text" name="test" value="'+e.val()+'"/>');c="left"==f?g.prependTo(d):g.appendTo(d);var h=parseInt(e.attr("max"),10),i=parseInt(e.attr("min"),10);e.change(function(){c.val(e.val())}),c.on("input",function(){var a=parseInt(c.val(),10);a=a>h?h:i>a?i:a,e.val(a),c.val(a)})},k=function(a){var c,d=b(a),e=parseFloat(d.data("progress"))+"%",f=d.data("title")||"";c=d.find("div.bar"),0==c.length&&(c=b('<div class="bar"></div>').appendTo(d)),c.width(e).text(f+e),"100%"==e&&c.css("border-radius","10px")},l=function(a){var c,d=b(a),e=parseInt(d.data("count")),f=d.data("orient"),g="left"==f?"left":"",h='<span class="count '+g+'">'+e+"</span>";c=d.find("span.count"),c.length>0?c.text(e):c=h.appendTo(d),0==e&&c.hide()},m=function(a){var c=b(a),d=c.data("checkbox");c.find("i.icon").length>0||(c.prepend('<i class="icon checkbox-'+d+'"></i>'),c.on("tap",function(){var a="checked"==c.data("checkbox")?"unchecked":"checked";c.find("i.icon").attr("class","icon checkbox-"+a),c.data("checkbox",a),c.trigger("change")}))};return{init:d,initIcon:g,initToggle:i,initProgress:k,initRange:j,initCount:l,initScroll:f}}(Jingle,Zepto),Jingle.Menu=function(a,b){var c,d,e,f=function(){c=b("#aside_container"),d=b("#section_container"),e=b('<div id="section_container_mask"></div>').appendTo("#section_container"),e.on("tap",h),c.on("swipeRight","aside",function(){"right"==b(this).data("position")&&h()}),c.on("swipeLeft","aside",function(){"right"!=b(this).data("position")&&h()}),c.on("tap",".aside-close",h)},g=function(c){var e=b(c).addClass("active"),f=e.data("transition"),g=e.data("position")||"left",h=e.data("show-close"),i=e.width(),j="left"==g?i+"px":"-"+i+"px";h&&0==e.find("div.aside-close").length&&e.append('<div class="aside-close icon close"></div>'),a.Element.initScroll(e),"overlay"==f?a.anim(e,{translateX:"0%"}):"reveal"==f?a.anim(d,{translateX:j}):(a.anim(e,{translateX:"0%"}),a.anim(d,{translateX:j})),b("#section_container_mask").show(),a.hasMenuOpen=!0},h=function(c,e){var f=b("#aside_container aside.active"),g=f.data("transition"),h=f.data("position")||"left",i="left"==h?"-100%":"100%",j=function(){f.removeClass("active"),a.hasMenuOpen=!1,e&&e.call(this)};"overlay"==g?a.anim(f,{translateX:i},c,j):"reveal"==g?a.anim(d,{translateX:"0"},c,j):(a.anim(f,{translateX:i},c),a.anim(d,{translateX:"0"},c,j)),b("#section_container_mask").hide()};return{init:f,show:g,hide:h}}(Jingle,Zepto),Jingle.Page=function(a,b){var c=function(a){return 0==a.indexOf("#")?a.substr(1):a},d=function(d){var e=c(d),f=a.settings.remotePage[e]||a.settings.basePagePath+e+".html";return f?(a.settings.showPageLoading&&a.showMask("正在加载..."),b.ajax({url:f,timeout:1e4,async:!1,success:function(c){a.settings.showPageLoading&&a.hideMask(),b("#section_container").append(c),b("#"+e).trigger("pageload"),a.Element.init(d)}}),void 0):(console.error(404,"页面不存在！"),void 0)},e=function(a){return b.ajax({url:a,timeout:1e4,async:!1}).responseText};return{load:d,loadContent:e}}(Jingle,Zepto),Jingle.Router=function(a,b){var c=[],d=function(){b(window).on("popstate",f),b(document).on("click","a",function(a){var c=b(this).data("target");return c&&"link"==c?void 0:(a.preventDefault(),!1)}),b(document).on("tap","a",function(a){var c=b(this).data("target");c?"link"!=c&&(a.preventDefault(),g.call(this)):a.preventDefault()}),e()},e=function(){var a=b("#section_container section.active");k("#"+a.attr("id")),a.trigger("pageinit").trigger("pageshow").data("init",!0)},f=function(a){if(a.state&&a.state.hash){var b=a.state.hash;b===c[1]&&i()}},g=function(){var a=b(this),c=a.attr("data-target"),d=a.attr("href");switch(c){case"section":h(d);break;case"article":l(d,a);break;case"menu":m(d);break;case"back":i()}},h=function(d){return a.hasMenuOpen?(a.Menu.hide(200,function(){h(d)}),void 0):(c[0]!==d&&(k(d),0===b(d).length&&a.Page.load(d),j(c[1],d)),void 0)},i=function(){j(c.shift(),c[0],!0),window.history.replaceState({hash:c[0]},"",c[0])},j=function(b,c,d){a.Transition.run(b,c,d)},k=function(a){c.unshift(a),window.history.pushState({hash:a},"",a)},l=function(a,c){var d=b(a);if(!d.hasClass("active")){c.addClass("active").siblings(".active").removeClass("active");var e=d.addClass("active").siblings(".active").removeClass("active");d.trigger("articleshow"),e.trigger("articlehide")}},m=function(b){a.hasMenuOpen?a.Menu.hide():a.Menu.show(b)};return{init:d,turnTo:h,showArticle:l,back:i}}(Jingle,Zepto),Jingle.Service=function(a,b){function c(a,c,d,e){var f=!b.isFunction(c);return{url:a,data:f?c:void 0,success:f?b.isFunction(d)?d:void 0:c,dataType:f?e||d:d}}var d="JINGLE_POST_DATA",e="JINGLE_GET_",f=function(a){"post"==a.type?g(a):h(a)},g=function(c){a.offline?(k(c.url,c.data),c.success("数据已存至本地")):b.ajax(c)},h=function(c){var d=c.url+JSON.stringify(c.data);if(a.offline){var e=i(d);e?c.success(e.data,d,e.cacheTime):c.success(e)}else{var f=c.success;c.success=function(a){j(d,a),f(a,d)},b.ajax(c)}},i=function(a){return JSON.parse(window.localStorage.getItem(e+a))},j=function(a,b){var c={data:b,cacheTime:new Date};window.localStorage.setItem(e+a,JSON.stringify(c))},k=function(a,b){var c=l();c=c||{},c[a]={data:b,createdTime:new Date},window.localStorage.setItem(d,JSON.stringify(c))},l=function(a){var b=JSON.parse(window.localStorage.getItem(d));return b&&a?b[a]:b},m=function(a){if(a){var b=l();delete b[a],window.localStorage.setItem(d,JSON.stringify(b))}else window.localStorage.removeItem(d)},n=function(a,c,d){var e=l(a).data;b.ajax({url:a,contentType:"application/json",data:e,type:"post",success:function(){c(a)},error:function(){d(a)}})},o=function(a,b){var c=l();for(var d in c)n(d,a,b);m()},p=function(){return f(c.apply(null,arguments))},q=function(){var a=c.apply(null,arguments);return a.type="POST",f(a)},r=function(){var a=c.apply(null,arguments);return a.dataType="json",f(a)},s=function(){for(var a=window.localStorage,b=[],c=0;c<a.length;c++){var f=a.key(c);0==f.indexOf(e)&&b.push(f)}for(var c=0;c<b.length;c++)a.removeItem(b[c]);a.removeItem(d)};return{ajax:f,get:p,post:q,getJSON:r,getUnPostData:l,removeUnPostData:m,syncPostData:n,syncAllPostData:o,getCacheData:i,saveCacheData:j,clear:s}}(Jingle,Zepto),Jingle.Template=function(a,b){var c=function(a,c,d){var e='<div class="back-mask"><div class="icon '+d+'"></div><div>'+c+"</div></div>";b(a).html(e)},d=function(a){c(a,"没有找到相关数据","drawer")},e=function(a){c(a,"加载中...","cloud-download")},f=function(c,e,f,g){var h=b(c),g=g||"replace";if("array"==b.type(f)&&0==f.length)d(h);else{var i=b(template(e,f));"replace"==g?h.html(i):h.append(i),a.Element.init(i)}};return{render:f,background:c,loading:e,no_result:d}}(Jingle,Zepto),Jingle.Toast=function(a,b){var c,d,e=5e3,f={toast:'<a href="#">{value}</a>',success:'<a href="#"><i class="icon checkmark-circle"></i>{value}</a>',error:'<a href="#"><i class="icon cancel-circle"></i>{value}</a></div>',info:'<a href="#"><i class="icon info-2"></i>{value}</a>'},g="toast",h=function(){b("body").append('<div id="jingle_toast"></div>'),c=b("#jingle_toast"),k()},i=function(){a.anim(c,"scaleOut",function(){c.hide()})},j=function(b,h,j){d&&clearTimeout(d),g=b,c.attr("class",b).html(f[b].replace("{value}",h)).show(),a.anim(c,"scaleIn"),0!==j&&(d=setTimeout(i,j||e))},k=function(){c.on("tap",'[data-target="close"]',function(){i()})};return h(),{show:j,hide:i}}(Jingle,Zepto),Jingle.Transition=function(a,b){var c,d,e,f,g={slide:[["slideLeftOut","slideLeftIn"],["slideRightOut","slideRightIn"]],slideUp:[["","slideUpIn"],["slideDownOut",""]],slideDown:[["","slideDownIn"],["slideUpOut",""]],scale:[["","scaleIn"],["scaleOut",""]]},h=function(){var a=f[0],b=f[1],c=e;""==b?(b=" activing "+b,a=" active "+a,c=d):(b=" active "+b,a=" activing "+a),c.bind("webkitAnimationEnd.jingle",i),d.attr("class",a),e.attr("class",b)},i=function(){d.off("webkitAnimationEnd.jingle"),e.off("webkitAnimationEnd.jingle"),d.attr("class",""),e.attr("class","active"),e.data("init")||(e.trigger("pageinit"),e.data("init",!0)),d.trigger("pagehide",[c]),e.trigger("pageshow",[c]),d.find("article.active").trigger("articlehide"),e.find("article.active").trigger("articleshow")},j=function(i,j,k){c=k,d=b(i),e=b(j);var l=c?d.attr("data-transition"):e.attr("data-transition");l=l||a.settings.transitionType,f=c?g[l][1]:g[l][0],h()},k=function(a,b,c,d,e){return g[a]?(console.error("该转场动画已经存在，请检查你自定义的动画名称(名称不能重复)"),void 0):(g[a]=[[b,c],[d,e]],void 0)};return{run:j,add:k}}(Jingle,$),Jingle.Popup=function(a,b){var c,d,e,f,g={top:{top:0,left:0,right:0},"top-second":{top:"44px",left:0,right:0},center:{top:"50%",left:"5%",right:"5%","border-radius":"3px"},bottom:{bottom:0,left:0,right:0},"bottom-second":{bottom:"51px",left:0,right:0}},h={top:["slideDownIn","slideUpOut"],bottom:["slideUpIn","slideDownOut"],defaultAnim:["scaleIn","scaleOut"]},i={alert:'<div class="popup-title">{title}</div><div class="popup-content">{content}</div><div id="popup_btn_container"><a data-target="closePopup" data-icon="checkmark">{ok}</a></div>',confirm:'<div class="popup-title">{title}</div><div class="popup-content">{content}</div><div id="popup_btn_container"><a class="cancel" data-icon="close">{cancel}</a><a data-icon="checkmark">{ok}</a></div>',loading:'<i class="icon spinner"></i><p>{title}</p>'},j=function(){b("body").append('<div id="jingle_popup"></div><div id="jingle_popup_mask"></div>'),d=b("#jingle_popup_mask"),c=b("#jingle_popup"),m()},k=function(i){var j={height:void 0,width:void 0,opacity:.3,url:null,tplId:null,tplData:null,html:"",pos:"center",clickMask2Close:!0,showCloseBtn:!0,arrowDirection:void 0,animation:!0,onShow:void 0};b.extend(j,i),f=j.clickMask2Close,d.css("opacity",j.opacity),c.attr({style:"","class":""}),j.width&&c.width(j.width),j.height&&c.height(j.height);var k=b.type(j.pos);if("object"==k)c.css(j.pos),e=h.defaultAnim;else{if("string"!=k)return console.error("错误的参数！"),void 0;if(g[j.pos]){c.css(g[j.pos]);var l=j.pos.indexOf("top")>-1?"top":j.pos.indexOf("bottom")>-1?"bottom":"defaultAnim";e=h[l]}else c.addClass(j.pos),e=h.defaultAnim}d.show();var m;if(j.html?m=j.html:j.url?m=a.Page.loadContent(j.url):j.tplId&&(m=template(j.tplId,j.tplData)),j.showCloseBtn&&(m+='<div id="tag_close_popup" data-target="closePopup" class="icon cancel-circle"></div>'),j.arrowDirection&&(c.addClass("arrow "+j.arrowDirection),c.css("padding","8px"),("top"==j.arrowDirection||"bottom"==j.arrowDirection)&&(e=h[j.arrowDirection])),c.html(m).show(),j.onShow&&j.onShow.call(c),"center"==j.pos){var n=c.height();c.css("margin-top","-"+n/2+"px")}a.Element.init(c),j.animation&&a.anim(c,e[0]),a.hasPopupOpen=!0},l=function(b){d.hide(),e&&!b?a.anim(c,e[1],function(){c.hide(),a.hasPopupOpen=!1}):(c.hide(),a.hasPopupOpen=!1)},m=function(){d.on("tap",function(){f&&l()}),c.on("tap",'[data-target="closePopup"]',function(){l()})},n=function(a,b){var c=i.alert.replace("{title}",a).replace("{content}",b).replace("{ok}","确定");k({html:c,pos:"center",clickMask2Close:!1,showCloseBtn:!1})},o=function(a,c,d,e){var f=i.confirm.replace("{title}",a).replace("{content}",c).replace("{cancel}","取消").replace("{ok}","确定");k({html:f,pos:"center",clickMask2Close:!1,showCloseBtn:!1}),b('#popup_btn_container [data-icon="checkmark"]').tap(function(){l(),d.call(this)}),b('#popup_btn_container [data-icon="close"]').tap(function(){l(),e.call(this)})},p=function(a,b,c,d){k({html:a,pos:b,showCloseBtn:!1,arrowDirection:c,onShow:d})},q=function(a){var b=i.loading.replace("{title}",a||"加载中...");k({html:b,pos:"loading",opacity:0,animation:!1,clickMask2Close:!1})},r=function(a){var c='<div class="actionsheet">';b.each(a,function(a,b){c+='<button style="background-color: '+b.backgroudColor+' !important;">'+b.text+"</button>"}),c+='<button class="alizarin">取消</button>',c+="</div>",k({html:c,pos:"bottom",showCloseBtn:!1,onShow:function(){b(this).find("button").each(function(c,d){b(d).on("tap",function(){a[c]&&a[c].handler&&a[c].handler.call(d),l()})})}})};return j(),{show:k,close:l,alert:n,confirm:o,popover:p,loading:q,actionsheet:r}}(Jingle,Zepto),Jingle.Selected=function(a,b){var c,d,e="[data-selected]",f=function(){b(document).on("touchstart.selected",e,function(){var a=b(this);d=setTimeout(function(){c=a.addClass(a.data("selected"))},50)}),b(document).on("touchmove.selected touchend.selected touchcancel.selected",function(){d&&clearTimeout(d),c&&(c.removeClass(c.data("selected")),c=null)})};return{init:f}}(Jingle,Zepto),Jingle.Cache=function(a,b){var c="_J_P_",d="_J_",e=function(a,b){var c={data:b,cacheTime:new Date};window.localStorage.setItem(d+a,JSON.stringify(c))},f=function(a){return JSON.parse(window.localStorage.getItem(d+a))},g=function(a,b){var d=h();d=d||{},d[a]={data:b,createdTime:new Date},window.localStorage.setItem(c,JSON.stringify(d))},h=function(a){var b=JSON.parse(window.localStorage.getItem(c));return b&&a?b[a]:b},i=function(a){if(a){var b=h();delete b[a],window.localStorage.setItem(c,JSON.stringify(b))}else window.localStorage.removeItem(c)},j=function(a,c,d){function e(a){var e=h(a).data;b.ajax({url:a,contentType:"application/json",data:e,type:"post",success:function(){g++,i(a),g==f&&c(a)},error:function(){d(a)}})}var f,g=0;if("string"==b.type(a))f=1,e(a);else{var j=h();if(!j)return;f=j.length;for(var a in j)e(a)}},k=function(){var a=window.localStorage;for(var b in a)0==b.indexOf(d)&&a.removeItem(b);a.removeItem(c)};return{get:f,save:e,getPost:h,savePost:g,removePost:i,syncPost:j,clear:k}}(Jingle,Zepto),function(a,b){var c=function(c,d){var e,f,g,h,i,j,k={months:["01月","02月","03月","04月","05月","06月","07月","08月","09月","10月","11月","12月"],days:["日","一","二","三","四","五","六"],swipeable:!0,date:new Date,onRenderDay:void 0,onSelect:void 0},l=this,m=b(c),n=function(){l.settings=b.extend({},k,d),i=l.settings.date.getFullYear(),j=l.settings.date.getMonth(),h=new Date(i,j,l.settings.date.getDate()),q(),v()},o=function(a){return new Date(a.getFullYear(),a.getMonth(),1).getDay()},p=function(a){return new Date(a.getFullYear(),a.getMonth()+1,0).getDate()},q=function(){var a="";a+='<div class="jingle-calendar">',a+=r(i,j),a+=s(),a+='<div class="jingle-calendar-body">',a+=t(h),a+="</div></div>",m.html(a);var b=m.find("span");e=b.eq(0),f=b.eq(1),g=m.find(".jingle-calendar-body")},r=function(a,b){var c='<div class="jingle-calendar-nav">';return c+='<div> <i class="icon previous" data-year='+a+"></i><span>"+a+'</span><i class="icon next" data-year='+a+"></i></div>",c+='<div ><i class="icon previous" data-month='+b+"></i> <span>"+l.settings.months[b]+'</span><i class="icon next" data-month='+b+"></i></div>",c+="</div>"},s=function(){for(var a="<table><thead><tr>",b=0;7>b;b++)a+="<th>"+l.settings.days[b]+"</th>";return a+="</tr></thead></table>"},t=function(a){var b,c=o(a),d=p(a),e=Math.ceil((c+d)/7),f="";i=a.getFullYear(),j=a.getMonth(),b=new Date(i,j,1-c),f+="<table><tbody>";for(var g=0;e>g;g++){f+="<tr>";for(var h=0;7>h;h++)f+=u(b,j),b.setDate(b.getDate()+1);f+="</tr>"}return f+="</tbody></table>"},u=function(a,b){var c=a.getMonth()!==b,d=l.format(a),e=l.format(l.settings.date)==d?"active":"",f=a.getDate();return l.settings.onRenderDay&&(f=l.settings.onRenderDay.call(null,f,d)),c?"<td>&nbsp;</td>":'<td data-selected="selected" class="'+e+'" data-date= '+d+">"+f+"</td>"},v=function(){var a;m.on("tap",function(c){if(a=b(c.target),a.is("[data-year].next")?(h.setFullYear(h.getFullYear()+1),l.refresh(h)):a.is("[data-year].previous")?(h.setFullYear(h.getFullYear()-1),l.refresh(h)):a.is("[data-month].next")?(h.setMonth(h.getMonth()+1),l.refresh(h)):a.is("[data-month].previous")&&(h.setMonth(h.getMonth()-1),l.refresh(h)),a.is("td")){var d=a.data("date");d&&l.settings.onSelect&&l.settings.onSelect.call(l,d)}}),m.on("swipeLeft",function(){h.setMonth(h.getMonth()+1),l.refresh(h)}),m.on("swipeRight",function(){h.setMonth(h.getMonth()-1),l.refresh(h)})};this.refresh=function(b){var c=new Date(i,j,1),d=new Date(b.getFullYear(),b.getMonth(),1),h=void 0;if(c.getTime()!=d.getTime()){h=d>c?"slideLeftRound":"slideRightRound",e.text(b.getFullYear()),f.text(this.settings.months[b.getMonth()]);var k=t(b);a.anim(g,h,function(){g.html(k)})}},n()};c.prototype.parse=function(a){var b=/^(\d{4})(?:\-|\/)(\d{1,2})(?:\-|\/)(\d{1,2})$/;return b.test(a)?new Date(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10)-1,parseInt(RegExp.$3,10)):null},c.prototype.format=function(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()},a.Calendar=c}(Jingle,Zepto),function(a,b){var c={},d=1;a.Scroll=function(a,e){var f,g,h=b(a),i={hScroll:!1,bounce:!1,lockDirection:!0,useTransform:!0,useTransition:!1,checkDOMChanges:!1,onBeforeScrollStart:function(a){for(var b=a.target;1!=b.nodeType;)b=b.parentNode;"SELECT"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName&&a.preventDefault()}};return g=h.data("_jscroll_"),g&&c[g]?(f=c[g],b.extend(f.scroller.options,e),f.scroller.refresh(),f):(g="_jscroll_"+d++,h.data("_jscroll_",g),b.extend(i,e),scroller=new iScroll(h[0],i),c[g]={scroller:scroller,destroy:function(){scroller.destroy(),delete c[g]}})}}(Jingle,Zepto),function(a,b){function c(a,c){var d,e,f,g,h,i,j,k,l=function(){},m=function(){return!0},n=!1,o=0,p=200,q=this;b.isPlainObject(a)?(d=b(a.selector),c=a.noDots,m=a.onBeforeSlide||m,l=a.onAfterSlide||l,k=a.autoPlay):d=b(a);var r=function(){d.css("overflow","hidden"),f=d.children().first(),g=f.children(),h=g.length,i=d.offset().width,f.css("width",h*i),g.css({width:i,"float":"left"}),c||t(),u(0,0),k&&s()},s=function(){setTimeout(function(){o==h-1?u(0):q.next(),s()},3e3)},t=function(){if(e=d.find(".dots"),e.length>0)e.show();else{for(var a=30*h+20+2,c='<div class="dots"><ul>',f=0;h>f;f++)c+='<li index="'+f+'"><a href="#"></a></li>';c+="</ul></div>",d.append(c),e=d.find(".dots"),e.children().css("width",a+"px"),e.find("li").on("tap",function(){var a=b(this).attr("index");u(parseInt(a),p)})}},u=function(a,c){c=c||p,f.css({"-webkit-transition-duration":c+"ms","-webkit-transform":"translate3D("+-(a*i)+"px,0,0)"}),o!=a&&(o=a,e&&b(e.find("li").get(o)).addClass("active").siblings().removeClass("active"),l(o))},v=function(){f.on("touchstart",w,!1),f.on("touchmove",x,!1),f.on("touchend",y,!1)},w=function(a){var b=a.touches[0];start={pageX:b.pageX,pageY:b.pageY,time:Number(new Date)},isScrolling=void 0,j=0,f[0].style.webkitTransitionDuration=0,n=!0},x=function(a){if(n){var b=a.touches[0];if(j=b.pageX-start.pageX,"undefined"==typeof isScrolling&&(isScrolling=Math.abs(j)<Math.abs(b.pageY-start.pageY)),!isScrolling){a.preventDefault();var c=!o&&j>0||o==h-1&&0>j;if(c)return;var d=j-o*i;f[0].style.webkitTransform="translate3D("+d+"px,0,0)"}}},y=function(){var a=Number(new Date)-start.time<250&&Math.abs(j)>20||Math.abs(j)>i/3,b=!o&&j>0||o==h-1&&0>j;isScrolling||(m(o,j)?u(o+(a&&!b?0>j?1:-1:0),p):u(o)),n=!1};r(),v(),this.refresh=function(){f.attr("style",""),r()},this.prev=function(){o&&u(o-1,p)},this.next=function(){h-1>o&&u(o+1,p)},this.index=function(a){u(a)}}a.Slider=c}(Jingle,Zepto),function(a,b){function c(c,d,e){var f,g,h,i,j,k,l,m={selector:void 0,type:"pullDown",minPullHeight:10,pullText:"下拉刷新...",releaseText:"松开立即刷新...",refreshText:"刷新中...",refreshTip:!1,onPullIcon:"arrow-down-2",onReleaseIcon:"icon-reverse",onRefreshIcon:"spinner",callback:void 0};"object"==typeof c?b.extend(m,c):(m.selector=c,m.type=d,m.callback=e,"pullUp"===d&&b.extend(m,{pullText:"上拉加载更多...",releaseText:"松开开立即加载...",refreshText:"加载中...",onPullIcon:"arrow-up-3"})),l="pullDown"===m.type?!0:!1;var n=function(a){g=b(a.selector).children()[0];var c='<div class="refresh-container"><span class="refresh-icon icon '+a.onPullIcon+'"></span><span class="refresh-label">'+a.pullText+"</span>"+(a.refreshTip?'<div class="refresh-tip">'+a.refreshTip+"</div>":"")+"</div>";h=l?b(c).prependTo(g):b(c).appendTo(g),k=h.height(),i=h.find(".refresh-icon"),j=h.find(".refresh-label")},o=function(b){return a.Scroll(b.selector,{topOffset:l?k:0,bounce:!0,onScrollMove:function(){this.y>b.minPullHeight&&l&&!i.hasClass(b.onReleaseIcon)?(i.addClass(b.onReleaseIcon),j.html(b.releaseText),this.minScrollY=0):this.y<b.minPullHeight&&l&&i.hasClass(b.onReleaseIcon)?(i.removeClass(b.onReleaseIcon),j.html(b.pullText),this.minScrollY=-k):this.y<this.maxScrollY-b.minPullHeight&&!l&&!i.hasClass(b.onReleaseIcon)?(i.addClass(b.onReleaseIcon),j.html(b.releaseText),this.maxScrollY=this.maxScrollY):this.y>this.maxScrollY+b.minPullHeight&&!l&&i.hasClass(b.onReleaseIcon)&&(i.removeClass(b.onReleaseIcon),j.html(b.pullText),this.maxScrollY=k)},onScrollEnd:function(){if(i.hasClass(b.onReleaseIcon)){i.removeClass(b.onReleaseIcon).removeClass(b.onPullIcon).addClass(b.onRefreshIcon),j.html(b.refreshText);var a=this;setTimeout(function(){b.callback.call(a)},1)}},onRefresh:function(){i.removeClass(b.onRefreshIcon).addClass(b.onPullIcon),j.html(b.pullText)}})};return n(m),f=o(m)}var d={},e=1;a.Refresh=function(a,f,g){var h,i;if(h=a.selector?b(a.selector):b(a),i=h.data("_jrefresh_"),i&&d[i])return d[i];i="_jrefresh_"+e++,h.data("_jrefresh_",i);var j=new c(a,f,g);return d[i]={scroller:j.scroller,destroy:function(){delete d[i],j.destroy(),b(".refresh-container",a).remove()}}}}(Jingle,Zepto);